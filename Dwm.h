/*******************************************************************************
 * Author : yongheng
 * Data   : 2023/09/10 23:03
*******************************************************************************/

#pragma once
#include <sys/wait.h>
#include <X11/cursorfont.h>
#include <X11/keysym.h>
#include <X11/Xatom.h>
#include <X11/Xlib.h>
#include <X11/Xproto.h>
#include <X11/Xutil.h>
#ifdef XINERAMA
#include <X11/extensions/Xinerama.h>
#endif /* XINERAMA */
#include <X11/Xft/Xft.h>
class Dwm {
    /*******************************************************************************
      * 检查是否有其他窗口管理器运行
     *******************************************************************************/
    void CheckOtherWm();

    /*******************************************************************************
     * 设置DWM的许多配置，例如字体，颜色，状态栏，窗口的事件监听等
    *******************************************************************************/
    void SetUp();

    /*******************************************************************************
     * 退出dwm时释放所有资源
    *******************************************************************************/
    void CleanUp();

    /*******************************************************************************
     * 扫描所有的窗口，并根据是否是辅助窗口来跳过或者调用manage函数
    *******************************************************************************/
    void Scan();

public:
    Dwm();
    ~Dwm();

    /*******************************************************************************
     * dwm窗口的主事件循环
    *******************************************************************************/
    void Run(void);
};